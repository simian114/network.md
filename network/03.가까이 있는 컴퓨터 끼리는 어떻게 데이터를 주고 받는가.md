# 가까이 있는 컴퓨터 끼리는 어떻게 데이터를 주고 받는가?

> 로컬 네트워크 내에 있는 컴퓨터들은 어떻게 데이터를 주고 받을까?
>
> > 이 부분을 정리한게 OSI 7계층에서 2계층이다.



## 2계층에서 하는 일

> 2계층의 기능과 2계층 네트워크 크기를 알아보자.

#### 2계층은 무슨 일을 하는가?

- 하나의 네트워크 대역 즉, 같은 네트워크 상에 존재하는 여러 장비들 중에서 어떤 장비가 어떤 장비에게 보내는 데이터를 전달하는지,  추가적으로 보내는 데이터의 ***<u>오류를 제어하고 , 흐름 제어</u>*** 등을 수행한다.

#### 2계층의 네트워크 크기

- 2계층은 **<u>*하나의 네트워크 대역(LAN)*</u>**에서만 통신할 때 사용한다.

- 다른 네트워크와 통신할 때는 항상 ***<u>3계층</u>***이 도와줘야 한다.

  

## 2계층에서 사용하는 주소 - 물리적인 주소

> 주소 체계를 아는 건 매우 중요하다.

- ***<u>LAN에서 통신할 때 사용하는 주소 --- MAC주소--6BYTE</u>***

- 16진수를 사용한다. 총 12개의 16진수로 이루어진다.
  - OUI: IEEE에서 부여하는 일종의 제조회사 식별 ID(앞의 6개)
  - 고유번호: 제조사에서 부여하는 고유번호(뒤의 6개)
    - 삼성에서 어떤 장비를 만들면, OUI는 삼성의 식별자고 고유번호는 삼성이 부여한 고유 번호다.
- MAC주소는 전세계의 모든 장비들이 갖고 있고 각각이 다른 번호를 가지고 있다.



## 2계층 프로토콜

> Ethernet 프로토콜(14BYTE)

- 여기서 봐야할 건 아래와 같다. [영상](https://www.youtube.com/watch?v=HkiOygWMARs&list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi&index=5) 의 9분을 참고하자. 여기서는 총 14바이트를 다룬다.
  - Destination Address(6BYTE)
    - 6BYTE. 즉 목적지는 MAC주소다
    - 내가 누군가와 통신을 할 때 받는 사람의 주소다.
  - Source Address(6BYTE)
    - 6BYTE. 소스는 보내는 나. 나 또한 MAC주소.
  - Ethernet Type(2BYTE)
    - 보내는 내용?
    - 3계층 프로토콜을 먼저 알려주는 역할을 한다.

## 실습

- 내 컴퓨터의 MAC주소 알아내기
  - `cmd`에 `ipconfig /all` 실행하자. 
  - 로컬영역연결 에서 물리적 주소가 우리의 MAC 주소가 된다.

- `Ethernet` 프로토콜 캡쳐하기
  - `ping 8.8.8.8`
  - `Wireshark`에서 아무거나 들어가서 `Ethernet` 확인하자. 
    - `Source`에는 나의 `MAC`주소가 들어가고(6바이트)
    - `Destination`에는 다른 `MAC`주소가 들어간다.(6바이트)
    - `Type`에는 3계층 프로토콜이 `IPv4`라는걸 알려준다.(2바이트)